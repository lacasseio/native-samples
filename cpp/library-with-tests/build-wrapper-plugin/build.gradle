plugins {
    id 'java-gradle-plugin'
}

group = 'org.gradle.samples'
version = '1.0'

gradlePlugin {
    plugins {
        cmakeLibrary {
            id = 'org.gradle.samples.cmake-library'
            implementationClass = 'org.gradle.samples.plugins.cmake.CMakeLibraryPlugin'
        }
        cmakeApplication {
            id = 'org.gradle.samples.cmake-application'
            implementationClass = 'org.gradle.samples.plugins.cmake.CMakeApplicationPlugin'
        }
        wrappedBase {
            id = 'org.gradle.samples.wrapped-native-base'
            implementationClass = 'org.gradle.samples.plugins.WrappedNativeBasePlugin'
        }
        wrappedApplication {
            id = 'org.gradle.samples.wrapped-native-application'
            implementationClass = 'org.gradle.samples.plugins.WrappedNativeApplicationPlugin'
        }
        wrappedLibrary {
            id = 'org.gradle.samples.wrapped-native-library'
            implementationClass = 'org.gradle.samples.plugins.WrappedNativeLibraryPlugin'
        }
        autotoolsLibrary {
            id = 'org.gradle.samples.autotools-library'
            implementationClass = 'org.gradle.samples.plugins.autotools.AutotoolsLibraryPlugin'
        }
    }
}

tasks.withType(JavaCompile).configureEach {
    // strictly compile the sample plugins
    options.compilerArgs.addAll("-Werror", "-Xlint:deprecation")
}
